{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { JWT_TOKEN } from \"../common/constants\";\n\nconst addPrefix = key => `pawn2323-shop34354-sdv89625672.${key}`;\n\nconst adBlockMessageShownKey = addPrefix('adBlockMessageShown');\nconst walletConnectedKey = addPrefix('walletConnected');\nconst jwtKey = addPrefix(JWT_TOKEN);\nexport class LocalStorage {\n  constructor(storage = localStorage) {\n    _defineProperty(this, \"_storage\", void 0);\n\n    this._storage = storage;\n  }\n\n  saveAdBlockMessageShown(adBlockMessageShown) {\n    this._storage.setItem(adBlockMessageShownKey, JSON.stringify(adBlockMessageShown));\n  }\n\n  getAdBlockMessageShown() {\n    return JSON.parse(this._storage.getItem(adBlockMessageShownKey) || 'false');\n  }\n\n  saveWalletConnected(walletConnected) {\n    this._storage.setItem(walletConnectedKey, JSON.stringify(walletConnected));\n  }\n\n  getWalletConnected() {\n    return JSON.parse(this._storage.getItem(walletConnectedKey) || 'false');\n  }\n\n  getJWT() {\n    const stringToken = this._storage.getItem(jwtKey);\n\n    if (stringToken) {\n      const payload = JSON.parse(stringToken);\n      return payload;\n    }\n\n    return null;\n  }\n\n  saveJWT(payload) {\n    this._storage.setItem(jwtKey, JSON.stringify(payload));\n  }\n\n}","map":{"version":3,"sources":["/Users/danildovgal/Desktop/protocol_zero/src/services/local_storage.ts"],"names":["JWT_TOKEN","addPrefix","key","adBlockMessageShownKey","walletConnectedKey","jwtKey","LocalStorage","constructor","storage","localStorage","_storage","saveAdBlockMessageShown","adBlockMessageShown","setItem","JSON","stringify","getAdBlockMessageShown","parse","getItem","saveWalletConnected","walletConnected","getWalletConnected","getJWT","stringToken","payload","saveJWT"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,qBAA1B;;AAGA,MAAMC,SAAS,GAAIC,GAAD,IAAkB,kCAAiCA,GAAI,EAAzE;;AAEA,MAAMC,sBAAsB,GAAGF,SAAS,CAAC,qBAAD,CAAxC;AACA,MAAMG,kBAAkB,GAAGH,SAAS,CAAC,iBAAD,CAApC;AACA,MAAMI,MAAM,GAAGJ,SAAS,CAACD,SAAD,CAAxB;AAGA,OAAO,MAAMM,YAAN,CAAmB;AAGtBC,EAAAA,WAAW,CAACC,OAAgB,GAAGC,YAApB,EAAkC;AAAA;;AACzC,SAAKC,QAAL,GAAgBF,OAAhB;AACH;;AAEMG,EAAAA,uBAAP,CAA+BC,mBAA/B,EAAmE;AAC/D,SAAKF,QAAL,CAAcG,OAAd,CAAsBV,sBAAtB,EAA8CW,IAAI,CAACC,SAAL,CAAeH,mBAAf,CAA9C;AACH;;AAEMI,EAAAA,sBAAP,GAAyC;AACrC,WAAOF,IAAI,CAACG,KAAL,CAAW,KAAKP,QAAL,CAAcQ,OAAd,CAAsBf,sBAAtB,KAAiD,OAA5D,CAAP;AACH;;AAEMgB,EAAAA,mBAAP,CAA2BC,eAA3B,EAA2D;AACvD,SAAKV,QAAL,CAAcG,OAAd,CAAsBT,kBAAtB,EAA0CU,IAAI,CAACC,SAAL,CAAeK,eAAf,CAA1C;AACH;;AAEMC,EAAAA,kBAAP,GAAqC;AACjC,WAAOP,IAAI,CAACG,KAAL,CAAW,KAAKP,QAAL,CAAcQ,OAAd,CAAsBd,kBAAtB,KAA6C,OAAxD,CAAP;AACH;;AAEMkB,EAAAA,MAAP,GAAmC;AAC/B,UAAMC,WAAW,GAAG,KAAKb,QAAL,CAAcQ,OAAd,CAAsBb,MAAtB,CAApB;;AACA,QAAGkB,WAAH,EAAgB;AACZ,YAAMC,OAAO,GAAGV,IAAI,CAACG,KAAL,CAAWM,WAAX,CAAhB;AACA,aAAOC,OAAP;AACH;;AACD,WAAO,IAAP;AACH;;AAEMC,EAAAA,OAAP,CAAeD,OAAf,EAA2C;AACvC,SAAKd,QAAL,CAAcG,OAAd,CAAsBR,MAAtB,EAA8BS,IAAI,CAACC,SAAL,CAAeS,OAAf,CAA9B;AACH;;AAlCqB","sourcesContent":["import { JWT_TOKEN } from \"../common/constants\";\nimport { JwtPayload } from \"../types/user\";\n\nconst addPrefix = (key: string) => `pawn2323-shop34354-sdv89625672.${key}`;\n\nconst adBlockMessageShownKey = addPrefix('adBlockMessageShown');\nconst walletConnectedKey = addPrefix('walletConnected');\nconst jwtKey = addPrefix(JWT_TOKEN);\n\n\nexport class LocalStorage {\n    private readonly _storage: Storage;\n\n    constructor(storage: Storage = localStorage) {\n        this._storage = storage;\n    }\n\n    public saveAdBlockMessageShown(adBlockMessageShown: boolean): void {\n        this._storage.setItem(adBlockMessageShownKey, JSON.stringify(adBlockMessageShown));\n    }\n\n    public getAdBlockMessageShown(): boolean {\n        return JSON.parse(this._storage.getItem(adBlockMessageShownKey) || 'false');\n    }\n\n    public saveWalletConnected(walletConnected: boolean): void {\n        this._storage.setItem(walletConnectedKey, JSON.stringify(walletConnected));\n    }\n\n    public getWalletConnected(): boolean {\n        return JSON.parse(this._storage.getItem(walletConnectedKey) || 'false');\n    }\n\n    public getJWT(): JwtPayload | null {\n        const stringToken = this._storage.getItem(jwtKey);\n        if(stringToken) {\n            const payload = JSON.parse(stringToken) as JwtPayload;\n            return payload;\n        }\n        return null\n    }\n\n    public saveJWT(payload: JwtPayload | null) {\n        this._storage.setItem(jwtKey, JSON.stringify(payload));\n    }\n}\n"]},"metadata":{},"sourceType":"module"}