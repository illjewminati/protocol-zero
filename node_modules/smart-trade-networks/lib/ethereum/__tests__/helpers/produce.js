"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.helperDeployProduce = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _managerController = require("../../../managerController");

var helperDeployProduce = /*#__PURE__*/function () {
  var _ref = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee(signers, produceAddress) {
    var controllers, stnManagerContract, stnManagerContractAddress;
    return _regenerator["default"].wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            controllers = [];
            _context.t0 = controllers;
            _context.next = 4;
            return signers[0].getAddress();

          case 4:
            _context.t1 = _context.sent;

            _context.t0.push.call(_context.t0, _context.t1);

            _context.t2 = controllers;
            _context.next = 9;
            return signers[1].getAddress();

          case 9:
            _context.t3 = _context.sent;

            _context.t2.push.call(_context.t2, _context.t3);

            _context.t4 = controllers;
            _context.next = 14;
            return signers[2].getAddress();

          case 14:
            _context.t5 = _context.sent;

            _context.t4.push.call(_context.t4, _context.t5);

            _context.t6 = controllers;
            _context.next = 19;
            return signers[3].getAddress();

          case 19:
            _context.t7 = _context.sent;

            _context.t6.push.call(_context.t6, _context.t7);

            _context.next = 23;
            return _managerController.ManagerController.deploySTN721ManagerContract(signers[0], produceAddress, controllers);

          case 23:
            stnManagerContract = _context.sent;
            stnManagerContractAddress = stnManagerContract.address;
            return _context.abrupt("return", [stnManagerContract, stnManagerContractAddress]);

          case 26:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function helperDeployProduce(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

exports.helperDeployProduce = helperDeployProduce;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9ldGhlcmV1bS9fX3Rlc3RzX18vaGVscGVycy9wcm9kdWNlLnRzIl0sIm5hbWVzIjpbImhlbHBlckRlcGxveVByb2R1Y2UiLCJzaWduZXJzIiwicHJvZHVjZUFkZHJlc3MiLCJjb250cm9sbGVycyIsImdldEFkZHJlc3MiLCJwdXNoIiwiTWFuYWdlckNvbnRyb2xsZXIiLCJkZXBsb3lTVE43MjFNYW5hZ2VyQ29udHJhY3QiLCJzdG5NYW5hZ2VyQ29udHJhY3QiLCJzdG5NYW5hZ2VyQ29udHJhY3RBZGRyZXNzIiwiYWRkcmVzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUNBOztBQUtPLElBQU1BLG1CQUFtQjtBQUFBLDJGQUFJLGlCQUFPQyxPQUFQLEVBQXNDQyxjQUF0QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDMUJDLFlBQUFBLFdBRDBCLEdBQ1osRUFEWTtBQUFBLDBCQUVoQ0EsV0FGZ0M7QUFBQTtBQUFBLG1CQUVURixPQUFPLENBQUMsQ0FBRCxDQUFQLENBQVdHLFVBQVgsRUFGUzs7QUFBQTtBQUFBOztBQUFBLHdCQUVwQkMsSUFGb0I7O0FBQUEsMEJBR2hDRixXQUhnQztBQUFBO0FBQUEsbUJBR1RGLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBV0csVUFBWCxFQUhTOztBQUFBO0FBQUE7O0FBQUEsd0JBR3BCQyxJQUhvQjs7QUFBQSwwQkFJaENGLFdBSmdDO0FBQUE7QUFBQSxtQkFJVEYsT0FBTyxDQUFDLENBQUQsQ0FBUCxDQUFXRyxVQUFYLEVBSlM7O0FBQUE7QUFBQTs7QUFBQSx3QkFJcEJDLElBSm9COztBQUFBLDBCQUtoQ0YsV0FMZ0M7QUFBQTtBQUFBLG1CQUtURixPQUFPLENBQUMsQ0FBRCxDQUFQLENBQVdHLFVBQVgsRUFMUzs7QUFBQTtBQUFBOztBQUFBLHdCQUtwQkMsSUFMb0I7O0FBQUE7QUFBQSxtQkFNZ0JDLHFDQUFrQkMsMkJBQWxCLENBQThDTixPQUFPLENBQUMsQ0FBRCxDQUFyRCxFQUEwREMsY0FBMUQsRUFBMEVDLFdBQTFFLENBTmhCOztBQUFBO0FBTTFCSyxZQUFBQSxrQkFOMEI7QUFPMUJDLFlBQUFBLHlCQVAwQixHQU9FRCxrQkFBa0IsQ0FBQ0UsT0FQckI7QUFBQSw2Q0FRekIsQ0FBQ0Ysa0JBQUQsRUFBcUJDLHlCQUFyQixDQVJ5Qjs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUFKOztBQUFBLGtCQUFuQlQsbUJBQW1CO0FBQUE7QUFBQTtBQUFBLEdBQXpCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSBcImV0aGVyc1wiO1xuaW1wb3J0IHsgTWFuYWdlckNvbnRyb2xsZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWFuYWdlckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFNUTjcyMU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IGNvbmZpcm1MYXN0TXVsdGlzaWdUeCB9IGZyb20gXCIuL211bHRpc2lnXCI7XG5cblxuZXhwb3J0IGNvbnN0IGhlbHBlckRlcGxveVByb2R1Y2UgID0gYXN5bmMgKHNpZ25lcnM6IEFycmF5PGV0aGVycy5TaWduZXI+LCBwcm9kdWNlQWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxbU1RONzIxTWFuYWdlciwgc3RyaW5nXT4gPT4ge1xuICAgIGNvbnN0IGNvbnRyb2xsZXJzID0gW107XG4gICAgY29udHJvbGxlcnMucHVzaChhd2FpdCBzaWduZXJzWzBdLmdldEFkZHJlc3MoKSlcbiAgICBjb250cm9sbGVycy5wdXNoKGF3YWl0IHNpZ25lcnNbMV0uZ2V0QWRkcmVzcygpKVxuICAgIGNvbnRyb2xsZXJzLnB1c2goYXdhaXQgc2lnbmVyc1syXS5nZXRBZGRyZXNzKCkpXG4gICAgY29udHJvbGxlcnMucHVzaChhd2FpdCBzaWduZXJzWzNdLmdldEFkZHJlc3MoKSlcbiAgICBjb25zdCBzdG5NYW5hZ2VyQ29udHJhY3Q6IFNUTjcyMU1hbmFnZXIgPSBhd2FpdCBNYW5hZ2VyQ29udHJvbGxlci5kZXBsb3lTVE43MjFNYW5hZ2VyQ29udHJhY3Qoc2lnbmVyc1swXSwgcHJvZHVjZUFkZHJlc3MsIGNvbnRyb2xsZXJzKTtcbiAgICBjb25zdCBzdG5NYW5hZ2VyQ29udHJhY3RBZGRyZXNzID0gc3RuTWFuYWdlckNvbnRyYWN0LmFkZHJlc3M7XG4gICAgcmV0dXJuIFtzdG5NYW5hZ2VyQ29udHJhY3QsIHN0bk1hbmFnZXJDb250cmFjdEFkZHJlc3NdO1xufVxuIl19