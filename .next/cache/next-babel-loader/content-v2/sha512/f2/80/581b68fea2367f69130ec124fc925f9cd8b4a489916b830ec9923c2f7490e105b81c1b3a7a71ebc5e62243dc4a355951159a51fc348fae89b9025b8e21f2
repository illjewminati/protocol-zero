{"ast":null,"code":"import _classCallCheck from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { JWT_TOKEN } from \"../common/constants\";\n\nvar addPrefix = function addPrefix(key) {\n  return \"pawn2323-shop34354-sdv89625672.\".concat(key);\n};\n\nvar adBlockMessageShownKey = addPrefix('adBlockMessageShown');\nvar walletConnectedKey = addPrefix('walletConnected');\nvar jwtKey = addPrefix(JWT_TOKEN);\nexport var LocalStorage = /*#__PURE__*/function () {\n  function LocalStorage() {\n    var storage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : localStorage;\n\n    _classCallCheck(this, LocalStorage);\n\n    _defineProperty(this, \"_storage\", void 0);\n\n    this._storage = storage;\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"saveAdBlockMessageShown\",\n    value: function saveAdBlockMessageShown(adBlockMessageShown) {\n      this._storage.setItem(adBlockMessageShownKey, JSON.stringify(adBlockMessageShown));\n    }\n  }, {\n    key: \"getAdBlockMessageShown\",\n    value: function getAdBlockMessageShown() {\n      return JSON.parse(this._storage.getItem(adBlockMessageShownKey) || 'false');\n    }\n  }, {\n    key: \"saveWalletConnected\",\n    value: function saveWalletConnected(walletConnected) {\n      this._storage.setItem(walletConnectedKey, JSON.stringify(walletConnected));\n    }\n  }, {\n    key: \"getWalletConnected\",\n    value: function getWalletConnected() {\n      return JSON.parse(this._storage.getItem(walletConnectedKey) || 'false');\n    }\n  }, {\n    key: \"getJWT\",\n    value: function getJWT() {\n      var stringToken = this._storage.getItem(jwtKey);\n\n      if (stringToken) {\n        var payload = JSON.parse(stringToken);\n        return payload;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"saveJWT\",\n    value: function saveJWT(payload) {\n      this._storage.setItem(jwtKey, JSON.stringify(payload));\n    }\n  }]);\n\n  return LocalStorage;\n}();","map":{"version":3,"sources":["/Users/danildovgal/Desktop/protocol_zero/src/services/local_storage.ts"],"names":["JWT_TOKEN","addPrefix","key","adBlockMessageShownKey","walletConnectedKey","jwtKey","LocalStorage","storage","localStorage","_storage","adBlockMessageShown","setItem","JSON","stringify","parse","getItem","walletConnected","stringToken","payload"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,qBAA1B;;AAGA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD;AAAA,kDAAmDA,GAAnD;AAAA,CAAlB;;AAEA,IAAMC,sBAAsB,GAAGF,SAAS,CAAC,qBAAD,CAAxC;AACA,IAAMG,kBAAkB,GAAGH,SAAS,CAAC,iBAAD,CAApC;AACA,IAAMI,MAAM,GAAGJ,SAAS,CAACD,SAAD,CAAxB;AAGA,WAAaM,YAAb;AAGI,0BAA6C;AAAA,QAAjCC,OAAiC,uEAAdC,YAAc;;AAAA;;AAAA;;AACzC,SAAKC,QAAL,GAAgBF,OAAhB;AACH;;AALL;AAAA;AAAA,4CAOmCG,mBAPnC,EAOuE;AAC/D,WAAKD,QAAL,CAAcE,OAAd,CAAsBR,sBAAtB,EAA8CS,IAAI,CAACC,SAAL,CAAeH,mBAAf,CAA9C;AACH;AATL;AAAA;AAAA,6CAW6C;AACrC,aAAOE,IAAI,CAACE,KAAL,CAAW,KAAKL,QAAL,CAAcM,OAAd,CAAsBZ,sBAAtB,KAAiD,OAA5D,CAAP;AACH;AAbL;AAAA;AAAA,wCAe+Ba,eAf/B,EAe+D;AACvD,WAAKP,QAAL,CAAcE,OAAd,CAAsBP,kBAAtB,EAA0CQ,IAAI,CAACC,SAAL,CAAeG,eAAf,CAA1C;AACH;AAjBL;AAAA;AAAA,yCAmByC;AACjC,aAAOJ,IAAI,CAACE,KAAL,CAAW,KAAKL,QAAL,CAAcM,OAAd,CAAsBX,kBAAtB,KAA6C,OAAxD,CAAP;AACH;AArBL;AAAA;AAAA,6BAuBuC;AAC/B,UAAMa,WAAW,GAAG,KAAKR,QAAL,CAAcM,OAAd,CAAsBV,MAAtB,CAApB;;AACA,UAAGY,WAAH,EAAgB;AACZ,YAAMC,OAAO,GAAGN,IAAI,CAACE,KAAL,CAAWG,WAAX,CAAhB;AACA,eAAOC,OAAP;AACH;;AACD,aAAO,IAAP;AACH;AA9BL;AAAA;AAAA,4BAgCmBA,OAhCnB,EAgC+C;AACvC,WAAKT,QAAL,CAAcE,OAAd,CAAsBN,MAAtB,EAA8BO,IAAI,CAACC,SAAL,CAAeK,OAAf,CAA9B;AACH;AAlCL;;AAAA;AAAA","sourcesContent":["import { JWT_TOKEN } from \"../common/constants\";\nimport { JwtPayload } from \"../types/user\";\n\nconst addPrefix = (key: string) => `pawn2323-shop34354-sdv89625672.${key}`;\n\nconst adBlockMessageShownKey = addPrefix('adBlockMessageShown');\nconst walletConnectedKey = addPrefix('walletConnected');\nconst jwtKey = addPrefix(JWT_TOKEN);\n\n\nexport class LocalStorage {\n    private readonly _storage: Storage;\n\n    constructor(storage: Storage = localStorage) {\n        this._storage = storage;\n    }\n\n    public saveAdBlockMessageShown(adBlockMessageShown: boolean): void {\n        this._storage.setItem(adBlockMessageShownKey, JSON.stringify(adBlockMessageShown));\n    }\n\n    public getAdBlockMessageShown(): boolean {\n        return JSON.parse(this._storage.getItem(adBlockMessageShownKey) || 'false');\n    }\n\n    public saveWalletConnected(walletConnected: boolean): void {\n        this._storage.setItem(walletConnectedKey, JSON.stringify(walletConnected));\n    }\n\n    public getWalletConnected(): boolean {\n        return JSON.parse(this._storage.getItem(walletConnectedKey) || 'false');\n    }\n\n    public getJWT(): JwtPayload | null {\n        const stringToken = this._storage.getItem(jwtKey);\n        if(stringToken) {\n            const payload = JSON.parse(stringToken) as JwtPayload;\n            return payload;\n        }\n        return null\n    }\n\n    public saveJWT(payload: JwtPayload | null) {\n        this._storage.setItem(jwtKey, JSON.stringify(payload));\n    }\n}\n"]},"metadata":{},"sourceType":"module"}