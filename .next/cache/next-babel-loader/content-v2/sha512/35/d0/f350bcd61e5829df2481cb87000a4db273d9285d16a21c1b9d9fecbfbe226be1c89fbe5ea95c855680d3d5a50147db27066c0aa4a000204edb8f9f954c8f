{"ast":null,"code":"import _regeneratorRuntime from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { createAction } from 'typesafe-actions';\nimport { StepKind } from '../../types/steps-modal';\nimport { createAllowanceAndSwapSteps, getSwapTokensStep } from '../../util/steps_modals_generation';\nexport var setStepsModalPendingSteps = createAction('ui/steps_modal/PENDING_STEPS_set', function (resolve) {\n  return function (pendingSteps) {\n    return resolve(pendingSteps);\n  };\n});\nexport var setStepsModalDoneSteps = createAction('ui/steps_modal/DONE_STEPS_set', function (resolve) {\n  return function (doneSteps) {\n    return resolve(doneSteps);\n  };\n});\nexport var setStepsModalCurrentStep = createAction('ui/steps_modal/CURRENT_STEP_set', function (resolve) {\n  return function (currentStep) {\n    return resolve(currentStep);\n  };\n});\nexport var stepsModalAdvanceStep = createAction('ui/steps_modal/advance_step');\nexport var stepsModalReset = createAction('ui/steps_modal/reset');\nexport var startAllowanceAndSwapSteps = function startAllowanceAndSwapSteps(token, to, amountToSwap, callback) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch, getState) {\n      var allowanceAndSwapSteps;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              allowanceAndSwapSteps = createAllowanceAndSwapSteps(token, to, amountToSwap, callback);\n              dispatch(setStepsModalCurrentStep(allowanceAndSwapSteps[0]));\n              dispatch(setStepsModalPendingSteps(allowanceAndSwapSteps.slice(1)));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var startSwapStep = function startSwapStep(token, amountToSwap, callback) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch, getState) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dispatch(setStepsModalCurrentStep(getSwapTokensStep(token, amountToSwap, callback)));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterSetMinBalance = function startPaymasterSetMinBalance(amount) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              step = {\n                kind: StepKind.SetMinBalance,\n                amount: amount\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterSetPaymentToken = function startPaymasterSetPaymentToken(address) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              step = {\n                kind: StepKind.SetPaymentToken,\n                address: address\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterSetFee = function startPaymasterSetFee(amount) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              step = {\n                kind: StepKind.SetFee,\n                amount: amount\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterWhitelisToken = function startPaymasterWhitelisToken(address, whitelist) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              step = {\n                kind: StepKind.Whitelist,\n                address: address,\n                whitelist: whitelist\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterSetGasUsedByPost = function startPaymasterSetGasUsedByPost(amount) {\n  return /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              step = {\n                kind: StepKind.SetGasUsedByPost,\n                amount: amount\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function (_x13, _x14) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterSetMinGas = function startPaymasterSetMinGas(amount) {\n  return /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              step = {\n                kind: StepKind.SetMinGas,\n                amount: amount\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function (_x15, _x16) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterSetTarget = function startPaymasterSetTarget(address) {\n  return /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              step = {\n                kind: StepKind.SetTarget,\n                address: address\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function (_x17, _x18) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterSetRelayHub = function startPaymasterSetRelayHub(address) {\n  return /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              step = {\n                kind: StepKind.SetRelayHub,\n                address: address\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n\n    return function (_x19, _x20) {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterSetForwarder = function startPaymasterSetForwarder(address) {\n  return /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              step = {\n                kind: StepKind.SetForwarder,\n                address: address\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n\n    return function (_x21, _x22) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n};\nexport var startPaymasterWithdraw = function startPaymasterWithdraw(amount, receiver) {\n  return /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(dispatch, getState) {\n      var step;\n      return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              step = {\n                kind: StepKind.Withdraw,\n                amount: amount,\n                receiver: receiver\n              };\n              dispatch(setStepsModalCurrentStep(step));\n              dispatch(setStepsModalPendingSteps([]));\n              dispatch(setStepsModalDoneSteps([]));\n\n            case 4:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n\n    return function (_x23, _x24) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["/Users/danildovgal/Desktop/protocol_zero/src/store/ui/actions.ts"],"names":["createAction","StepKind","createAllowanceAndSwapSteps","getSwapTokensStep","setStepsModalPendingSteps","resolve","pendingSteps","setStepsModalDoneSteps","doneSteps","setStepsModalCurrentStep","currentStep","stepsModalAdvanceStep","stepsModalReset","startAllowanceAndSwapSteps","token","to","amountToSwap","callback","dispatch","getState","allowanceAndSwapSteps","slice","startSwapStep","startPaymasterSetMinBalance","amount","step","kind","SetMinBalance","startPaymasterSetPaymentToken","address","SetPaymentToken","startPaymasterSetFee","SetFee","startPaymasterWhitelisToken","whitelist","Whitelist","startPaymasterSetGasUsedByPost","SetGasUsedByPost","startPaymasterSetMinGas","SetMinGas","startPaymasterSetTarget","SetTarget","startPaymasterSetRelayHub","SetRelayHub","startPaymasterSetForwarder","SetForwarder","startPaymasterWithdraw","receiver","Withdraw"],"mappings":"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","sourcesContent":["import { BigNumberish } from 'ethers';\nimport { parseUnits } from 'ethers/lib/utils';\nimport { createAction } from 'typesafe-actions';\nimport { SwapResponse, Token } from '../../types/blockchain';\nimport { ERC20 } from '../../types/erc20';\nimport { \n    Step, \n    StepKind,\n    StepSetFee,\n    StepSetForwarder,\n    StepSetGasUsedByPost,\n    StepSetMinBalance,\n    StepSetMinGas,\n    StepSetPaymentToken,\n    StepSetRelayHub,\n    StepSetTarget,\n    StepWhitelistToken,\n    StepWithdraw, \n} from '../../types/steps-modal';\nimport { ThunkCreator } from '../../types/store';\nimport { createAllowanceAndSwapSteps, getSwapTokensStep } from '../../util/steps_modals_generation';\n\n\nexport const setStepsModalPendingSteps = createAction('ui/steps_modal/PENDING_STEPS_set', resolve => {\n    return (pendingSteps: Step[]) => resolve(pendingSteps);\n});\n\nexport const setStepsModalDoneSteps = createAction('ui/steps_modal/DONE_STEPS_set', resolve => {\n    return (doneSteps: Step[]) => resolve(doneSteps);\n});\n\nexport const setStepsModalCurrentStep = createAction('ui/steps_modal/CURRENT_STEP_set', resolve => {\n    return (currentStep: Step | null) => resolve(currentStep);\n});\n\nexport const stepsModalAdvanceStep = createAction('ui/steps_modal/advance_step');\n\nexport const stepsModalReset = createAction('ui/steps_modal/reset');\n\nexport const startAllowanceAndSwapSteps: ThunkCreator = (token: Token, to: string, amountToSwap: string, callback: SwapResponse) => {\n    return async (dispatch, getState) => {\n\n        const allowanceAndSwapSteps: Step[] = createAllowanceAndSwapSteps(token, to, amountToSwap, callback);\n\n        dispatch(setStepsModalCurrentStep(allowanceAndSwapSteps[0]));\n        dispatch(setStepsModalPendingSteps(allowanceAndSwapSteps.slice(1)));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startSwapStep: ThunkCreator = (token: Token, amountToSwap: string, callback: SwapResponse) => {\n    return async (dispatch, getState) => {\n\n\n        dispatch(setStepsModalCurrentStep(getSwapTokensStep(token, amountToSwap, callback)));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startPaymasterSetMinBalance: ThunkCreator = ( amount: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepSetMinBalance = {\n            kind: StepKind.SetMinBalance,\n            amount,\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\n\nexport const startPaymasterSetPaymentToken: ThunkCreator = ( address: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepSetPaymentToken = {\n            kind: StepKind.SetPaymentToken,\n            address,\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startPaymasterSetFee: ThunkCreator = ( amount: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepSetFee = {\n            kind: StepKind.SetFee,\n            amount,\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startPaymasterWhitelisToken: ThunkCreator = ( address: string, whitelist: boolean) => {\n    return async (dispatch, getState) => {\n\n        const step: StepWhitelistToken = {\n            kind: StepKind.Whitelist,\n            address,\n            whitelist\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startPaymasterSetGasUsedByPost: ThunkCreator = ( amount: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepSetGasUsedByPost = {\n            kind: StepKind.SetGasUsedByPost,\n            amount,\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startPaymasterSetMinGas: ThunkCreator = ( amount: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepSetMinGas = {\n            kind: StepKind.SetMinGas,\n            amount,\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startPaymasterSetTarget: ThunkCreator = ( address: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepSetTarget = {\n            kind: StepKind.SetTarget,\n            address,\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startPaymasterSetRelayHub: ThunkCreator = ( address: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepSetRelayHub = {\n            kind: StepKind.SetRelayHub,\n            address,\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\nexport const startPaymasterSetForwarder: ThunkCreator = ( address: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepSetForwarder = {\n            kind: StepKind.SetForwarder,\n            address,\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\n\nexport const startPaymasterWithdraw: ThunkCreator = ( amount: string, receiver: string) => {\n    return async (dispatch, getState) => {\n\n        const step: StepWithdraw = {\n            kind: StepKind.Withdraw,\n            amount,\n            receiver\n        }\n\n        dispatch(setStepsModalCurrentStep(step));\n        dispatch(setStepsModalPendingSteps([]));\n        dispatch(setStepsModalDoneSteps([]));\n    };\n};\n\n\n"]},"metadata":{},"sourceType":"module"}