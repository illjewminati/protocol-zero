{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar bignumber_js_1 = require(\"bignumber.js\");\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar uniswap_dapp_integration_shared_1 = require(\"uniswap-dapp-integration-shared\");\n\nvar approval_1 = __importDefault(require(\"./components/approval\"));\n\nvar confirmSwap_1 = __importDefault(require(\"./components/confirmSwap\"));\n\nvar header_1 = __importDefault(require(\"./components/header\"));\n\nvar loading_1 = __importDefault(require(\"./components/loading\"));\n\nvar swapQuoteInfo_1 = __importDefault(require(\"./components/swapQuoteInfo\"));\n\nvar tokenIcon_1 = __importDefault(require(\"./components/tokenIcon\"));\n\nvar tokensModal_1 = __importDefault(require(\"./components/tokensModal\"));\n\nvar transactionModal_1 = __importDefault(require(\"./components/transactionModal\"));\n\nvar uniswapDappSharedLogic;\nvar subscriptions = [];\nvar DEBOUNCE_DELAY = 250;\n\nvar UniswapReact = function (_a) {\n  var _b, _c, _d, _e, _f, _g, _h, _j, _k;\n\n  var uniswapDappSharedLogicContext = _a.uniswapDappSharedLogicContext;\n\n  var _l = react_1.default.useState(true),\n      loading = _l[0],\n      setLoading = _l[1];\n\n  var _m = react_1.default.useState(),\n      inputToken = _m[0],\n      setInputToken = _m[1];\n\n  var _o = react_1.default.useState(),\n      inputBalance = _o[0],\n      setInputBalance = _o[1];\n\n  var _p = react_1.default.useState(''),\n      inputValue = _p[0],\n      setInputValue = _p[1];\n\n  var _q = react_1.default.useState(),\n      inputFiatPrice = _q[0],\n      setInputFiatPrice = _q[1];\n\n  var _r = react_1.default.useState(),\n      outputToken = _r[0],\n      setOutputToken = _r[1];\n\n  var _s = react_1.default.useState(),\n      outputBalance = _s[0],\n      setOutputBalance = _s[1];\n\n  var _t = react_1.default.useState(''),\n      outputValue = _t[0],\n      setOutputValue = _t[1];\n\n  var _u = react_1.default.useState(),\n      outputFiatPrice = _u[0],\n      setOutputFiatPrice = _u[1];\n\n  var _v = react_1.default.useState(false),\n      supportedNetwork = _v[0],\n      setSupportedNetwork = _v[1];\n\n  var _w = react_1.default.useState(),\n      chainId = _w[0],\n      setChainId = _w[1];\n\n  var _x = react_1.default.useState(),\n      selectorOpenFrom = _x[0],\n      setSelectorOpenFrom = _x[1];\n\n  var _y = react_1.default.useState(),\n      tradeContext = _y[0],\n      setTradeContext = _y[1];\n\n  var _z = react_1.default.useState(),\n      newPriceTradeContext = _z[0],\n      setNewPriceTradeContext = _z[1];\n\n  var _0 = react_1.default.useState(),\n      miningTransaction = _0[0],\n      setMiningTransaction = _0[1];\n\n  var _1 = react_1.default.useState(),\n      miningTransactionStatus = _1[0],\n      setMiningTransactionStatus = _1[1];\n\n  var _2 = react_1.default.useState(false),\n      noLiquidityFound = _2[0],\n      setNoLiquidityFound = _2[1];\n\n  var _3 = react_1.default.useState(),\n      debounceTimeout = _3[0],\n      setDebounceTimeout = _3[1];\n\n  var utils = uniswap_dapp_integration_shared_1.Utils;\n  react_1.useEffect(function () {\n    (function () {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var sharedLogic, supportedNetworkTokens;\n\n        var _a, _b, _c;\n\n        return __generator(this, function (_d) {\n          switch (_d.label) {\n            case 0:\n              sharedLogic = new uniswap_dapp_integration_shared_1.UniswapDappSharedLogic(uniswapDappSharedLogicContext);\n              return [4\n              /*yield*/\n              , sharedLogic.init()];\n\n            case 1:\n              _d.sent();\n\n              supportedNetworkTokens = uniswapDappSharedLogicContext.supportedNetworkTokens.find(function (t) {\n                return t.chainId === sharedLogic.chainId;\n              });\n\n              if (supportedNetworkTokens === null || supportedNetworkTokens === void 0 ? void 0 : supportedNetworkTokens.defaultInputValue) {\n                setInputValue(supportedNetworkTokens.defaultInputValue);\n              }\n\n              setTradeContext(sharedLogic.tradeContext);\n              subscriptions.push(sharedLogic.tradeContext$.subscribe(function (context) {\n                setTradeContext(context);\n\n                if (context) {\n                  if (context.quoteDirection === uniswap_dapp_integration_shared_1.TradeDirection.input) {\n                    setOutputValue(context.expectedConvertQuote);\n                  } else {\n                    setInputValue(context.expectedConvertQuote);\n                  }\n                }\n              }));\n              subscriptions.push(sharedLogic.newPriceTradeContext$.subscribe(function (context) {\n                setNewPriceTradeContext(context);\n              }));\n              subscriptions.push(sharedLogic.tradeCompleted$.subscribe(function (completed) {\n                if (completed) {\n                  setNoLiquidityFound(false);\n                  setInputValue('');\n                  setOutputValue('');\n                }\n              }));\n\n              if (tradeContext === null || tradeContext === void 0 ? void 0 : tradeContext.expectedConvertQuote) {\n                setOutputValue(tradeContext.expectedConvertQuote);\n              }\n\n              uniswapDappSharedLogic = sharedLogic;\n              setSupportedNetwork(uniswapDappSharedLogic.supportedNetwork);\n              subscriptions.push(uniswapDappSharedLogic.supportedNetwork$.subscribe(function (supported) {\n                setSupportedNetwork(supported);\n              }));\n              setChainId(uniswapDappSharedLogic.chainId);\n              subscriptions.push(uniswapDappSharedLogic.chainId$.subscribe(function (chainId) {\n                setChainId(chainId);\n              }));\n              setInputToken(uniswapDappSharedLogic.inputToken);\n              setInputBalance(utils.toPrecision((_a = uniswapDappSharedLogic.inputToken) === null || _a === void 0 ? void 0 : _a.balance));\n              setInputFiatPrice((_b = uniswapDappSharedLogic.inputToken) === null || _b === void 0 ? void 0 : _b.fiatPrice);\n              subscriptions.push(uniswapDappSharedLogic.inputToken$.subscribe(function (token) {\n                setInputToken(token);\n                setInputBalance(utils.toPrecision(token.balance));\n                setInputFiatPrice(token.fiatPrice);\n              }));\n              setOutputToken(uniswapDappSharedLogic.outputToken);\n\n              if (uniswapDappSharedLogic.outputToken) {\n                setOutputBalance(utils.toPrecision(uniswapDappSharedLogic.outputToken.balance));\n                setOutputFiatPrice(uniswapDappSharedLogic.outputToken.fiatPrice);\n              }\n\n              subscriptions.push(uniswapDappSharedLogic.outputToken$.subscribe(function (token) {\n                setOutputToken(token);\n                setOutputBalance(utils.toPrecision(token.balance));\n                setOutputFiatPrice(token.fiatPrice);\n              }));\n              setSelectorOpenFrom(uniswapDappSharedLogic.selectorOpenFrom);\n              subscriptions.push(uniswapDappSharedLogic.selectorOpenFrom$.subscribe(function (openFrom) {\n                setSelectorOpenFrom(openFrom);\n              }));\n              setMiningTransaction(uniswapDappSharedLogic.miningTransaction);\n              setMiningTransactionStatus((_c = uniswapDappSharedLogic.miningTransaction) === null || _c === void 0 ? void 0 : _c.status);\n              subscriptions.push(uniswapDappSharedLogic.miningTransaction$.subscribe(function (_miningTransaction) {\n                setMiningTransaction(_miningTransaction);\n                setMiningTransactionStatus(_miningTransaction === null || _miningTransaction === void 0 ? void 0 : _miningTransaction.status);\n              }));\n              setLoading(false);\n              subscriptions.push(uniswapDappSharedLogic.loading$.subscribe(function (loading) {\n                setLoading(loading);\n              }));\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    })();\n\n    return function () {\n      for (var i = 0; i < subscriptions.length; i++) {\n        subscriptions[i].unsubscribe();\n      }\n    };\n  }, []);\n\n  var changeInputTradePrice = function (amount) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        if (isValidDecimalLength(amount, inputToken)) {\n          setInputValue(amount);\n\n          if (!amount || new bignumber_js_1.BigNumber(amount).isEqualTo(0)) {\n            setOutputValue('');\n\n            if (debounceTimeout) {\n              clearTimeout(debounceTimeout);\n            }\n\n            return [2\n            /*return*/\n            ];\n          }\n\n          if (debounceTimeout) {\n            clearTimeout(debounceTimeout);\n          }\n\n          setDebounceTimeout(setTimeout(function () {\n            return _changeInputTradePrice(amount);\n          }, DEBOUNCE_DELAY));\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  var _changeInputTradePrice = function (amount) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var success;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , changeTradePrice(amount, uniswap_dapp_integration_shared_1.TradeDirection.input)];\n\n          case 1:\n            success = _a.sent();\n\n            if (success) {\n              setOutputValue(uniswapDappSharedLogic.tradeContext.expectedConvertQuote);\n            } else {\n              setOutputValue('');\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  var changeOutputTradePrice = function (amount) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        if (isValidDecimalLength(amount, outputToken)) {\n          setOutputValue(amount);\n\n          if (!amount || new bignumber_js_1.BigNumber(amount).isEqualTo(0)) {\n            setInputValue('');\n\n            if (debounceTimeout) {\n              clearTimeout(debounceTimeout);\n            }\n\n            return [2\n            /*return*/\n            ];\n          }\n\n          if (debounceTimeout) {\n            clearTimeout(debounceTimeout);\n          }\n\n          setDebounceTimeout(setTimeout(function () {\n            return _changeOutputTradePrice(amount);\n          }, DEBOUNCE_DELAY));\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  var _changeOutputTradePrice = function (amount) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var success;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , changeTradePrice(amount, uniswap_dapp_integration_shared_1.TradeDirection.output)];\n\n          case 1:\n            success = _a.sent();\n\n            if (success) {\n              setInputValue(uniswapDappSharedLogic.tradeContext.expectedConvertQuote);\n            } else {\n              setInputValue('');\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  var isValidDecimalLength = function (value, token) {\n    var decimals = value.split('.');\n\n    if (!decimals[1]) {\n      return true;\n    }\n\n    if (value.length > token.decimals) {\n      return false;\n    }\n\n    return true;\n  };\n  /**\r\n   * Change trade price\r\n   * @param amount The amount\r\n   * @param tradeDirection The trade direction\r\n   */\n\n\n  var changeTradePrice = function (amount, tradeDirection) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            return [4\n            /*yield*/\n            , uniswapDappSharedLogic.changeTradePrice(amount, tradeDirection)];\n\n          case 1:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            error_1 = _a.sent();\n\n            if ((error_1 === null || error_1 === void 0 ? void 0 : error_1.code) === uniswap_dapp_integration_shared_1.ErrorCodes.noRoutesFound) {\n              handleNoLiquidityFound(true, tradeDirection);\n              return [2\n              /*return*/\n              , false];\n            }\n\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            handleNoLiquidityFound(false, tradeDirection);\n            return [2\n            /*return*/\n            , true];\n        }\n      });\n    });\n  };\n\n  var switchSwap = function () {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var swapState;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (noLiquidityFound) {\n              return [2\n              /*return*/\n              ];\n            }\n\n            return [4\n            /*yield*/\n            , uniswapDappSharedLogic.swapSwitch()];\n\n          case 1:\n            swapState = _a.sent();\n            setInputValue(swapState.inputValue);\n            setOutputValue(swapState.outputValue);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  var handleNoLiquidityFound = function (noLiquidityFound, tradeDirection) {\n    setNoLiquidityFound(noLiquidityFound);\n\n    if (noLiquidityFound && tradeDirection) {\n      if (tradeDirection === uniswap_dapp_integration_shared_1.TradeDirection.input) {\n        setOutputValue('');\n      } else {\n        setInputValue('');\n      }\n    }\n  };\n\n  return react_1.default.createElement(\"div\", {\n    id: \"uniswap__716283642843643826\"\n  }, loading && react_1.default.createElement(loading_1.default, null), !loading && uniswapDappSharedLogic && react_1.default.createElement(\"div\", null, react_1.default.createElement(\"div\", {\n    className: \"uni-ic uni-ic__theme-background\"\n  }, supportedNetwork && inputToken && react_1.default.createElement(\"div\", null, react_1.default.createElement(header_1.default, {\n    uniswapDappSharedLogic: uniswapDappSharedLogic,\n    disableMultihopsCompleted: function (noLiquidityFound) {\n      handleNoLiquidityFound(noLiquidityFound, tradeContext === null || tradeContext === void 0 ? void 0 : tradeContext.quoteDirection);\n    }\n  }), react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-container\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-input-container\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-input-content uni-ic__theme-panel\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-input-content-main\"\n  }, react_1.default.createElement(\"button\", {\n    className: \"uni-ic__swap-input-content-main-from-currency-container uni-ic__theme-panel\",\n    onClick: function () {\n      return uniswapDappSharedLogic.openTokenSelectorFrom();\n    }\n  }, react_1.default.createElement(\"span\", {\n    className: \"uni-ic__swap-input-content-main-from-currency\"\n  }, react_1.default.createElement(tokenIcon_1.default, {\n    classes: \"uni-ic__swap-input-content-main-from-currency-icon\",\n    tokenImageContext: inputToken.tokenImageContext\n  }), react_1.default.createElement(\"span\", {\n    className: \"uni-ic__swap-input-content-main-from-currency-symbol\"\n  }, inputToken.symbol), react_1.default.createElement(\"svg\", {\n    width: \"12\",\n    height: \"7\",\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    className: \"uni-ic__swap-input-content-main-from-currency-choose\"\n  }, react_1.default.createElement(\"path\", {\n    d: \"M0.97168 1L6.20532 6L11.439 1\",\n    stroke: \"#AEAEAE\"\n  })))), react_1.default.createElement(\"input\", {\n    className: \"uni-ic__swap-input-content-main-from uni-ic__theme-panel\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    type: \"number\",\n    step: \"any\",\n    placeholder: \"0.0\",\n    maxLength: inputToken.decimals,\n    value: inputValue,\n    onChange: function (e) {\n      changeInputTradePrice(e.target.value);\n    },\n    disabled: uniswapDappSharedLogic.transactionInProcess(),\n    spellCheck: \"false\"\n  })), react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price-container\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price__balance\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price__balance-text\"\n  }, react_1.default.createElement(\"span\", null, \"Balance: \", inputBalance, \" \", inputToken.symbol))), inputValue && inputFiatPrice && react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price__price\"\n  }, \"~$\", react_1.default.createElement(\"span\", {\n    className: \"uni-ic__swap-content-balance-and-price__price-text\"\n  }, utils.formatCurrency(inputFiatPrice.times(inputValue).toFixed()))))))), react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-divider uni-ic__theme-panel\",\n    onClick: function () {\n      return switchSwap();\n    }\n  }, react_1.default.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"#000000\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, react_1.default.createElement(\"line\", {\n    x1: \"12\",\n    y1: \"5\",\n    x2: \"12\",\n    y2: \"19\"\n  }), react_1.default.createElement(\"polyline\", {\n    points: \"19 12 12 19 5 12\"\n  }))), react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-output-container\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-output-content uni-ic__theme-panel\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-output-content-main\"\n  }, react_1.default.createElement(\"button\", {\n    className: \"uni-ic__swap-output-content-main-select uni-ic__theme-panel\",\n    onClick: function () {\n      return uniswapDappSharedLogic.openTokenSelectorTo();\n    }\n  }, !outputToken && react_1.default.createElement(\"span\", {\n    className: \"uni-ic__swap-output-content-main-select-content\"\n  }, react_1.default.createElement(\"span\", {\n    className: \"uni-ic__swap-output-content-main-select-content-title\"\n  }, \"Select a token\"), react_1.default.createElement(\"svg\", {\n    width: \"12\",\n    height: \"7\",\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    className: \"uni-ic__swap-output-content-main-select-content-icon\"\n  }, react_1.default.createElement(\"path\", {\n    d: \"M0.97168 1L6.20532 6L11.439 1\",\n    stroke: \"#AEAEAE\"\n  }))), outputToken && react_1.default.createElement(\"span\", {\n    className: \"uni-ic__swap-input-content-main-from-currency\"\n  }, react_1.default.createElement(tokenIcon_1.default, {\n    classes: \"uni-ic__swap-input-content-main-from-currency-icon\",\n    tokenImageContext: outputToken.tokenImageContext\n  }), react_1.default.createElement(\"span\", {\n    className: \"uni-ic__swap-input-content-main-from-currency-symbol\"\n  }, outputToken.symbol), react_1.default.createElement(\"svg\", {\n    width: \"12\",\n    height: \"7\",\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    className: \"uni-ic__swap-input-content-main-from-currency-choose\"\n  }, react_1.default.createElement(\"path\", {\n    d: \"M0.97168 1L6.20532 6L11.439 1\",\n    stroke: \"#AEAEAE\"\n  })))), react_1.default.createElement(\"input\", {\n    className: \"uni-ic__swap-output-content-main-from uni-ic__theme-panel\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    type: \"number\",\n    step: \"any\",\n    placeholder: \"0.0\",\n    maxLength: outputToken === null || outputToken === void 0 ? void 0 : outputToken.decimals,\n    value: outputValue,\n    onChange: function (e) {\n      changeOutputTradePrice(e.target.value);\n    },\n    disabled: uniswapDappSharedLogic.transactionInProcess(),\n    spellCheck: \"false\"\n  })), outputToken && react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price-container\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price__balance\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price__balance-text\"\n  }, react_1.default.createElement(\"span\", null, \"Balance: \", outputBalance, ' ', outputToken.symbol))), outputValue && outputFiatPrice && react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-content-balance-and-price__price\"\n  }, \"~$\", react_1.default.createElement(\"span\", {\n    className: \"uni-ic__swap-content-balance-and-price__price-text\"\n  }, utils.formatCurrency(outputFiatPrice.times(outputValue).toFixed())))))))), tradeContext && !noLiquidityFound && react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(swapQuoteInfo_1.default, {\n    uniswapDappSharedLogic: uniswapDappSharedLogic,\n    tradeContext: tradeContext\n  }), react_1.default.createElement(approval_1.default, {\n    uniswapDappSharedLogic: uniswapDappSharedLogic,\n    tradeContext: tradeContext,\n    miningTransaction: miningTransaction,\n    miningTransactionStatus: miningTransactionStatus\n  })), react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-button-container\"\n  }, react_1.default.createElement(\"button\", {\n    className: \"uni-ic__swap-button uni-ic__theme-background-button\",\n    onClick: function () {\n      return uniswapDappSharedLogic.showConfirmSwap();\n    },\n    disabled: utils.isZero(outputValue) || ((_b = uniswapDappSharedLogic.tradeContext) === null || _b === void 0 ? void 0 : _b.hasEnoughAllowance) === false || ((_d = (_c = uniswapDappSharedLogic.tradeContext) === null || _c === void 0 ? void 0 : _c.fromBalance) === null || _d === void 0 ? void 0 : _d.hasEnough) === false || noLiquidityFound\n  }, react_1.default.createElement(\"div\", {\n    className: \"uni-ic__swap-button-text\"\n  }, utils.isZero(outputValue) && !noLiquidityFound && react_1.default.createElement(\"span\", null, \"Enter an amount\"), !utils.isZero(outputValue) && !noLiquidityFound && ((_f = (_e = uniswapDappSharedLogic.tradeContext) === null || _e === void 0 ? void 0 : _e.fromBalance) === null || _f === void 0 ? void 0 : _f.hasEnough) && react_1.default.createElement(\"span\", null, \"Swap\"), !utils.isZero(outputValue) && !noLiquidityFound && !((_h = (_g = uniswapDappSharedLogic.tradeContext) === null || _g === void 0 ? void 0 : _g.fromBalance) === null || _h === void 0 ? void 0 : _h.hasEnough) && react_1.default.createElement(\"span\", null, \"Insufficient\", ' ', (_k = (_j = uniswapDappSharedLogic.tradeContext) === null || _j === void 0 ? void 0 : _j.fromToken) === null || _k === void 0 ? void 0 : _k.symbol, ' ', \"balance\"), noLiquidityFound && react_1.default.createElement(\"span\", null, \"Insufficient liquidity for this trade\")))))), !supportedNetwork && react_1.default.createElement(\"div\", {\n    className: \"uni-ic__error\"\n  }, react_1.default.createElement(\"p\", null, react_1.default.createElement(\"strong\", null, \"Chain id \", chainId, \" is a unsupported network.\")))), react_1.default.createElement(tokensModal_1.default, {\n    uniswapDappSharedLogic: uniswapDappSharedLogic,\n    switchSwapCompleted: function (swapCompleted) {\n      setInputValue(swapCompleted.inputValue);\n      setOutputValue(swapCompleted.outputValue);\n    },\n    changeTokenCompleted: function (noLiquidityFound) {\n      handleNoLiquidityFound(noLiquidityFound, tradeContext === null || tradeContext === void 0 ? void 0 : tradeContext.quoteDirection);\n    },\n    selectorOpenFrom: selectorOpenFrom,\n    inputToken: inputToken,\n    outputToken: outputToken\n  }), react_1.default.createElement(confirmSwap_1.default, {\n    uniswapDappSharedLogic: uniswapDappSharedLogic,\n    tradeContext: tradeContext,\n    newPriceTradeContext: newPriceTradeContext,\n    inputFiatPrice: inputFiatPrice,\n    outputFiatPrice: outputFiatPrice\n  }), react_1.default.createElement(transactionModal_1.default, {\n    uniswapDappSharedLogic: uniswapDappSharedLogic,\n    miningTransactionStatus: miningTransactionStatus\n  })));\n};\n\nexports.default = UniswapReact;","map":{"version":3,"sources":["/Users/danildovgal/Desktop/protocol_zero/src/components/uniswap_components/uniswap-react/lib/cjs/index.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","op","TypeError","pop","length","push","__importDefault","exports","bignumber_js_1","require","react_1","uniswap_dapp_integration_shared_1","approval_1","confirmSwap_1","header_1","loading_1","swapQuoteInfo_1","tokenIcon_1","tokensModal_1","transactionModal_1","uniswapDappSharedLogic","subscriptions","DEBOUNCE_DELAY","UniswapReact","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","uniswapDappSharedLogicContext","_l","default","useState","loading","setLoading","_m","inputToken","setInputToken","_o","inputBalance","setInputBalance","_p","inputValue","setInputValue","_q","inputFiatPrice","setInputFiatPrice","_r","outputToken","setOutputToken","_s","outputBalance","setOutputBalance","_t","outputValue","setOutputValue","_u","outputFiatPrice","setOutputFiatPrice","_v","supportedNetwork","setSupportedNetwork","_w","chainId","setChainId","_x","selectorOpenFrom","setSelectorOpenFrom","_y","tradeContext","setTradeContext","_z","newPriceTradeContext","setNewPriceTradeContext","_0","miningTransaction","setMiningTransaction","_1","miningTransactionStatus","setMiningTransactionStatus","_2","noLiquidityFound","setNoLiquidityFound","_3","debounceTimeout","setDebounceTimeout","utils","Utils","useEffect","sharedLogic","supportedNetworkTokens","UniswapDappSharedLogic","init","find","defaultInputValue","tradeContext$","subscribe","context","quoteDirection","TradeDirection","input","expectedConvertQuote","newPriceTradeContext$","tradeCompleted$","completed","supportedNetwork$","supported","chainId$","toPrecision","balance","fiatPrice","inputToken$","token","outputToken$","selectorOpenFrom$","openFrom","status","miningTransaction$","_miningTransaction","loading$","i","unsubscribe","changeInputTradePrice","amount","isValidDecimalLength","BigNumber","isEqualTo","clearTimeout","setTimeout","_changeInputTradePrice","success","changeTradePrice","changeOutputTradePrice","_changeOutputTradePrice","output","decimals","split","tradeDirection","error_1","code","ErrorCodes","noRoutesFound","handleNoLiquidityFound","switchSwap","swapState","swapSwitch","createElement","id","className","disableMultihopsCompleted","onClick","openTokenSelectorFrom","classes","tokenImageContext","symbol","width","height","viewBox","fill","d","stroke","autoComplete","autoCorrect","type","placeholder","maxLength","onChange","target","disabled","transactionInProcess","spellCheck","formatCurrency","times","toFixed","xmlns","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","points","openTokenSelectorTo","Fragment","showConfirmSwap","isZero","hasEnoughAllowance","fromBalance","hasEnough","fromToken","switchSwapCompleted","swapCompleted","changeTokenCompleted"],"mappings":"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","sourcesContent":["\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bignumber_js_1 = require(\"bignumber.js\");\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar uniswap_dapp_integration_shared_1 = require(\"uniswap-dapp-integration-shared\");\r\nvar approval_1 = __importDefault(require(\"./components/approval\"));\r\nvar confirmSwap_1 = __importDefault(require(\"./components/confirmSwap\"));\r\nvar header_1 = __importDefault(require(\"./components/header\"));\r\nvar loading_1 = __importDefault(require(\"./components/loading\"));\r\nvar swapQuoteInfo_1 = __importDefault(require(\"./components/swapQuoteInfo\"));\r\nvar tokenIcon_1 = __importDefault(require(\"./components/tokenIcon\"));\r\nvar tokensModal_1 = __importDefault(require(\"./components/tokensModal\"));\r\nvar transactionModal_1 = __importDefault(require(\"./components/transactionModal\"));\r\nvar uniswapDappSharedLogic;\r\nvar subscriptions = [];\r\nvar DEBOUNCE_DELAY = 250;\r\nvar UniswapReact = function (_a) {\r\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n    var uniswapDappSharedLogicContext = _a.uniswapDappSharedLogicContext;\r\n    var _l = react_1.default.useState(true), loading = _l[0], setLoading = _l[1];\r\n    var _m = react_1.default.useState(), inputToken = _m[0], setInputToken = _m[1];\r\n    var _o = react_1.default.useState(), inputBalance = _o[0], setInputBalance = _o[1];\r\n    var _p = react_1.default.useState(''), inputValue = _p[0], setInputValue = _p[1];\r\n    var _q = react_1.default.useState(), inputFiatPrice = _q[0], setInputFiatPrice = _q[1];\r\n    var _r = react_1.default.useState(), outputToken = _r[0], setOutputToken = _r[1];\r\n    var _s = react_1.default.useState(), outputBalance = _s[0], setOutputBalance = _s[1];\r\n    var _t = react_1.default.useState(''), outputValue = _t[0], setOutputValue = _t[1];\r\n    var _u = react_1.default.useState(), outputFiatPrice = _u[0], setOutputFiatPrice = _u[1];\r\n    var _v = react_1.default.useState(false), supportedNetwork = _v[0], setSupportedNetwork = _v[1];\r\n    var _w = react_1.default.useState(), chainId = _w[0], setChainId = _w[1];\r\n    var _x = react_1.default.useState(), selectorOpenFrom = _x[0], setSelectorOpenFrom = _x[1];\r\n    var _y = react_1.default.useState(), tradeContext = _y[0], setTradeContext = _y[1];\r\n    var _z = react_1.default.useState(), newPriceTradeContext = _z[0], setNewPriceTradeContext = _z[1];\r\n    var _0 = react_1.default.useState(), miningTransaction = _0[0], setMiningTransaction = _0[1];\r\n    var _1 = react_1.default.useState(), miningTransactionStatus = _1[0], setMiningTransactionStatus = _1[1];\r\n    var _2 = react_1.default.useState(false), noLiquidityFound = _2[0], setNoLiquidityFound = _2[1];\r\n    var _3 = react_1.default.useState(), debounceTimeout = _3[0], setDebounceTimeout = _3[1];\r\n    var utils = uniswap_dapp_integration_shared_1.Utils;\r\n    react_1.useEffect(function () {\r\n        (function () { return __awaiter(void 0, void 0, void 0, function () {\r\n            var sharedLogic, supportedNetworkTokens;\r\n            var _a, _b, _c;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        sharedLogic = new uniswap_dapp_integration_shared_1.UniswapDappSharedLogic(uniswapDappSharedLogicContext);\r\n                        return [4 /*yield*/, sharedLogic.init()];\r\n                    case 1:\r\n                        _d.sent();\r\n                        supportedNetworkTokens = uniswapDappSharedLogicContext.supportedNetworkTokens.find(function (t) { return t.chainId === sharedLogic.chainId; });\r\n                        if (supportedNetworkTokens === null || supportedNetworkTokens === void 0 ? void 0 : supportedNetworkTokens.defaultInputValue) {\r\n                            setInputValue(supportedNetworkTokens.defaultInputValue);\r\n                        }\r\n                        setTradeContext(sharedLogic.tradeContext);\r\n                        subscriptions.push(sharedLogic.tradeContext$.subscribe(function (context) {\r\n                            setTradeContext(context);\r\n                            if (context) {\r\n                                if (context.quoteDirection === uniswap_dapp_integration_shared_1.TradeDirection.input) {\r\n                                    setOutputValue(context.expectedConvertQuote);\r\n                                }\r\n                                else {\r\n                                    setInputValue(context.expectedConvertQuote);\r\n                                }\r\n                            }\r\n                        }));\r\n                        subscriptions.push(sharedLogic.newPriceTradeContext$.subscribe(function (context) {\r\n                            setNewPriceTradeContext(context);\r\n                        }));\r\n                        subscriptions.push(sharedLogic.tradeCompleted$.subscribe(function (completed) {\r\n                            if (completed) {\r\n                                setNoLiquidityFound(false);\r\n                                setInputValue('');\r\n                                setOutputValue('');\r\n                            }\r\n                        }));\r\n                        if (tradeContext === null || tradeContext === void 0 ? void 0 : tradeContext.expectedConvertQuote) {\r\n                            setOutputValue(tradeContext.expectedConvertQuote);\r\n                        }\r\n                        uniswapDappSharedLogic = sharedLogic;\r\n                        setSupportedNetwork(uniswapDappSharedLogic.supportedNetwork);\r\n                        subscriptions.push(uniswapDappSharedLogic.supportedNetwork$.subscribe(function (supported) {\r\n                            setSupportedNetwork(supported);\r\n                        }));\r\n                        setChainId(uniswapDappSharedLogic.chainId);\r\n                        subscriptions.push(uniswapDappSharedLogic.chainId$.subscribe(function (chainId) {\r\n                            setChainId(chainId);\r\n                        }));\r\n                        setInputToken(uniswapDappSharedLogic.inputToken);\r\n                        setInputBalance(utils.toPrecision((_a = uniswapDappSharedLogic.inputToken) === null || _a === void 0 ? void 0 : _a.balance));\r\n                        setInputFiatPrice((_b = uniswapDappSharedLogic.inputToken) === null || _b === void 0 ? void 0 : _b.fiatPrice);\r\n                        subscriptions.push(uniswapDappSharedLogic.inputToken$.subscribe(function (token) {\r\n                            setInputToken(token);\r\n                            setInputBalance(utils.toPrecision(token.balance));\r\n                            setInputFiatPrice(token.fiatPrice);\r\n                        }));\r\n                        setOutputToken(uniswapDappSharedLogic.outputToken);\r\n                        if (uniswapDappSharedLogic.outputToken) {\r\n                            setOutputBalance(utils.toPrecision(uniswapDappSharedLogic.outputToken.balance));\r\n                            setOutputFiatPrice(uniswapDappSharedLogic.outputToken.fiatPrice);\r\n                        }\r\n                        subscriptions.push(uniswapDappSharedLogic.outputToken$.subscribe(function (token) {\r\n                            setOutputToken(token);\r\n                            setOutputBalance(utils.toPrecision(token.balance));\r\n                            setOutputFiatPrice(token.fiatPrice);\r\n                        }));\r\n                        setSelectorOpenFrom(uniswapDappSharedLogic.selectorOpenFrom);\r\n                        subscriptions.push(uniswapDappSharedLogic.selectorOpenFrom$.subscribe(function (openFrom) {\r\n                            setSelectorOpenFrom(openFrom);\r\n                        }));\r\n                        setMiningTransaction(uniswapDappSharedLogic.miningTransaction);\r\n                        setMiningTransactionStatus((_c = uniswapDappSharedLogic.miningTransaction) === null || _c === void 0 ? void 0 : _c.status);\r\n                        subscriptions.push(uniswapDappSharedLogic.miningTransaction$.subscribe(function (_miningTransaction) {\r\n                            setMiningTransaction(_miningTransaction);\r\n                            setMiningTransactionStatus(_miningTransaction === null || _miningTransaction === void 0 ? void 0 : _miningTransaction.status);\r\n                        }));\r\n                        setLoading(false);\r\n                        subscriptions.push(uniswapDappSharedLogic.loading$.subscribe(function (loading) {\r\n                            setLoading(loading);\r\n                        }));\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); })();\r\n        return function () {\r\n            for (var i = 0; i < subscriptions.length; i++) {\r\n                subscriptions[i].unsubscribe();\r\n            }\r\n        };\r\n    }, []);\r\n    var changeInputTradePrice = function (amount) { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            if (isValidDecimalLength(amount, inputToken)) {\r\n                setInputValue(amount);\r\n                if (!amount || new bignumber_js_1.BigNumber(amount).isEqualTo(0)) {\r\n                    setOutputValue('');\r\n                    if (debounceTimeout) {\r\n                        clearTimeout(debounceTimeout);\r\n                    }\r\n                    return [2 /*return*/];\r\n                }\r\n                if (debounceTimeout) {\r\n                    clearTimeout(debounceTimeout);\r\n                }\r\n                setDebounceTimeout(setTimeout(function () { return _changeInputTradePrice(amount); }, DEBOUNCE_DELAY));\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); };\r\n    var _changeInputTradePrice = function (amount) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var success;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, changeTradePrice(amount, uniswap_dapp_integration_shared_1.TradeDirection.input)];\r\n                case 1:\r\n                    success = _a.sent();\r\n                    if (success) {\r\n                        setOutputValue(uniswapDappSharedLogic.tradeContext.expectedConvertQuote);\r\n                    }\r\n                    else {\r\n                        setOutputValue('');\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var changeOutputTradePrice = function (amount) { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            if (isValidDecimalLength(amount, outputToken)) {\r\n                setOutputValue(amount);\r\n                if (!amount || new bignumber_js_1.BigNumber(amount).isEqualTo(0)) {\r\n                    setInputValue('');\r\n                    if (debounceTimeout) {\r\n                        clearTimeout(debounceTimeout);\r\n                    }\r\n                    return [2 /*return*/];\r\n                }\r\n                if (debounceTimeout) {\r\n                    clearTimeout(debounceTimeout);\r\n                }\r\n                setDebounceTimeout(setTimeout(function () { return _changeOutputTradePrice(amount); }, DEBOUNCE_DELAY));\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); };\r\n    var _changeOutputTradePrice = function (amount) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var success;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, changeTradePrice(amount, uniswap_dapp_integration_shared_1.TradeDirection.output)];\r\n                case 1:\r\n                    success = _a.sent();\r\n                    if (success) {\r\n                        setInputValue(uniswapDappSharedLogic.tradeContext.expectedConvertQuote);\r\n                    }\r\n                    else {\r\n                        setInputValue('');\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var isValidDecimalLength = function (value, token) {\r\n        var decimals = value.split('.');\r\n        if (!decimals[1]) {\r\n            return true;\r\n        }\r\n        if (value.length > token.decimals) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Change trade price\r\n     * @param amount The amount\r\n     * @param tradeDirection The trade direction\r\n     */\r\n    var changeTradePrice = function (amount, tradeDirection) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var error_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 2, , 3]);\r\n                    return [4 /*yield*/, uniswapDappSharedLogic.changeTradePrice(amount, tradeDirection)];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [3 /*break*/, 3];\r\n                case 2:\r\n                    error_1 = _a.sent();\r\n                    if ((error_1 === null || error_1 === void 0 ? void 0 : error_1.code) === uniswap_dapp_integration_shared_1.ErrorCodes.noRoutesFound) {\r\n                        handleNoLiquidityFound(true, tradeDirection);\r\n                        return [2 /*return*/, false];\r\n                    }\r\n                    return [3 /*break*/, 3];\r\n                case 3:\r\n                    handleNoLiquidityFound(false, tradeDirection);\r\n                    return [2 /*return*/, true];\r\n            }\r\n        });\r\n    }); };\r\n    var switchSwap = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        var swapState;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (noLiquidityFound) {\r\n                        return [2 /*return*/];\r\n                    }\r\n                    return [4 /*yield*/, uniswapDappSharedLogic.swapSwitch()];\r\n                case 1:\r\n                    swapState = _a.sent();\r\n                    setInputValue(swapState.inputValue);\r\n                    setOutputValue(swapState.outputValue);\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var handleNoLiquidityFound = function (noLiquidityFound, tradeDirection) {\r\n        setNoLiquidityFound(noLiquidityFound);\r\n        if (noLiquidityFound && tradeDirection) {\r\n            if (tradeDirection === uniswap_dapp_integration_shared_1.TradeDirection.input) {\r\n                setOutputValue('');\r\n            }\r\n            else {\r\n                setInputValue('');\r\n            }\r\n        }\r\n    };\r\n    return (react_1.default.createElement(\"div\", { id: \"uniswap__716283642843643826\" },\r\n        loading && react_1.default.createElement(loading_1.default, null),\r\n        !loading && uniswapDappSharedLogic && (react_1.default.createElement(\"div\", null,\r\n            react_1.default.createElement(\"div\", { className: \"uni-ic uni-ic__theme-background\" },\r\n                supportedNetwork && inputToken && (react_1.default.createElement(\"div\", null,\r\n                    react_1.default.createElement(header_1.default, { uniswapDappSharedLogic: uniswapDappSharedLogic, disableMultihopsCompleted: function (noLiquidityFound) {\r\n                            handleNoLiquidityFound(noLiquidityFound, tradeContext === null || tradeContext === void 0 ? void 0 : tradeContext.quoteDirection);\r\n                        } }),\r\n                    react_1.default.createElement(\"div\", { className: \"uni-ic__swap-container\" },\r\n                        react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content\" },\r\n                            react_1.default.createElement(\"div\", { className: \"uni-ic__swap-input-container\" },\r\n                                react_1.default.createElement(\"div\", { className: \"uni-ic__swap-input-content uni-ic__theme-panel\" },\r\n                                    react_1.default.createElement(\"div\", { className: \"uni-ic__swap-input-content-main\" },\r\n                                        react_1.default.createElement(\"button\", { className: \"uni-ic__swap-input-content-main-from-currency-container uni-ic__theme-panel\", onClick: function () {\r\n                                                return uniswapDappSharedLogic.openTokenSelectorFrom();\r\n                                            } },\r\n                                            react_1.default.createElement(\"span\", { className: \"uni-ic__swap-input-content-main-from-currency\" },\r\n                                                react_1.default.createElement(tokenIcon_1.default, { classes: \"uni-ic__swap-input-content-main-from-currency-icon\", tokenImageContext: inputToken.tokenImageContext }),\r\n                                                react_1.default.createElement(\"span\", { className: \"uni-ic__swap-input-content-main-from-currency-symbol\" }, inputToken.symbol),\r\n                                                react_1.default.createElement(\"svg\", { width: \"12\", height: \"7\", viewBox: \"0 0 12 7\", fill: \"none\", className: \"uni-ic__swap-input-content-main-from-currency-choose\" },\r\n                                                    react_1.default.createElement(\"path\", { d: \"M0.97168 1L6.20532 6L11.439 1\", stroke: \"#AEAEAE\" })))),\r\n                                        react_1.default.createElement(\"input\", { className: \"uni-ic__swap-input-content-main-from uni-ic__theme-panel\", autoComplete: \"off\", autoCorrect: \"off\", type: \"number\", step: \"any\", placeholder: \"0.0\", maxLength: inputToken.decimals, value: inputValue, onChange: function (e) {\r\n                                                changeInputTradePrice(e.target.value);\r\n                                            }, disabled: uniswapDappSharedLogic.transactionInProcess(), spellCheck: \"false\" })),\r\n                                    react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price-container\" },\r\n                                        react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price\" },\r\n                                            react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price__balance\" },\r\n                                                react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price__balance-text\" },\r\n                                                    react_1.default.createElement(\"span\", null,\r\n                                                        \"Balance: \",\r\n                                                        inputBalance,\r\n                                                        \" \",\r\n                                                        inputToken.symbol))),\r\n                                            inputValue && inputFiatPrice && (react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price__price\" },\r\n                                                \"~$\",\r\n                                                react_1.default.createElement(\"span\", { className: \"uni-ic__swap-content-balance-and-price__price-text\" }, utils.formatCurrency(inputFiatPrice.times(inputValue).toFixed())))))))),\r\n                            react_1.default.createElement(\"div\", { className: \"uni-ic__swap-divider uni-ic__theme-panel\", onClick: function () { return switchSwap(); } },\r\n                                react_1.default.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"16\", height: \"16\", viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"#000000\", strokeWidth: \"2\", strokeLinecap: \"round\", strokeLinejoin: \"round\" },\r\n                                    react_1.default.createElement(\"line\", { x1: \"12\", y1: \"5\", x2: \"12\", y2: \"19\" }),\r\n                                    react_1.default.createElement(\"polyline\", { points: \"19 12 12 19 5 12\" }))),\r\n                            react_1.default.createElement(\"div\", { className: \"uni-ic__swap-output-container\" },\r\n                                react_1.default.createElement(\"div\", { className: \"uni-ic__swap-output-content uni-ic__theme-panel\" },\r\n                                    react_1.default.createElement(\"div\", { className: \"uni-ic__swap-output-content-main\" },\r\n                                        react_1.default.createElement(\"button\", { className: \"uni-ic__swap-output-content-main-select uni-ic__theme-panel\", onClick: function () {\r\n                                                return uniswapDappSharedLogic.openTokenSelectorTo();\r\n                                            } },\r\n                                            !outputToken && (react_1.default.createElement(\"span\", { className: \"uni-ic__swap-output-content-main-select-content\" },\r\n                                                react_1.default.createElement(\"span\", { className: \"uni-ic__swap-output-content-main-select-content-title\" }, \"Select a token\"),\r\n                                                react_1.default.createElement(\"svg\", { width: \"12\", height: \"7\", viewBox: \"0 0 12 7\", fill: \"none\", className: \"uni-ic__swap-output-content-main-select-content-icon\" },\r\n                                                    react_1.default.createElement(\"path\", { d: \"M0.97168 1L6.20532 6L11.439 1\", stroke: \"#AEAEAE\" })))),\r\n                                            outputToken && (react_1.default.createElement(\"span\", { className: \"uni-ic__swap-input-content-main-from-currency\" },\r\n                                                react_1.default.createElement(tokenIcon_1.default, { classes: \"uni-ic__swap-input-content-main-from-currency-icon\", tokenImageContext: outputToken.tokenImageContext }),\r\n                                                react_1.default.createElement(\"span\", { className: \"uni-ic__swap-input-content-main-from-currency-symbol\" }, outputToken.symbol),\r\n                                                react_1.default.createElement(\"svg\", { width: \"12\", height: \"7\", viewBox: \"0 0 12 7\", fill: \"none\", className: \"uni-ic__swap-input-content-main-from-currency-choose\" },\r\n                                                    react_1.default.createElement(\"path\", { d: \"M0.97168 1L6.20532 6L11.439 1\", stroke: \"#AEAEAE\" }))))),\r\n                                        react_1.default.createElement(\"input\", { className: \"uni-ic__swap-output-content-main-from uni-ic__theme-panel\", autoComplete: \"off\", autoCorrect: \"off\", type: \"number\", step: \"any\", placeholder: \"0.0\", maxLength: outputToken === null || outputToken === void 0 ? void 0 : outputToken.decimals, value: outputValue, onChange: function (e) {\r\n                                                changeOutputTradePrice(e.target.value);\r\n                                            }, disabled: uniswapDappSharedLogic.transactionInProcess(), spellCheck: \"false\" })),\r\n                                    outputToken && (react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price-container\" },\r\n                                        react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price\" },\r\n                                            react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price__balance\" },\r\n                                                react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price__balance-text\" },\r\n                                                    react_1.default.createElement(\"span\", null,\r\n                                                        \"Balance: \",\r\n                                                        outputBalance,\r\n                                                        ' ',\r\n                                                        outputToken.symbol))),\r\n                                            outputValue && outputFiatPrice && (react_1.default.createElement(\"div\", { className: \"uni-ic__swap-content-balance-and-price__price\" },\r\n                                                \"~$\",\r\n                                                react_1.default.createElement(\"span\", { className: \"uni-ic__swap-content-balance-and-price__price-text\" }, utils.formatCurrency(outputFiatPrice\r\n                                                    .times(outputValue)\r\n                                                    .toFixed())))))))))),\r\n                        tradeContext && !noLiquidityFound && (react_1.default.createElement(react_1.default.Fragment, null,\r\n                            react_1.default.createElement(swapQuoteInfo_1.default, { uniswapDappSharedLogic: uniswapDappSharedLogic, tradeContext: tradeContext }),\r\n                            react_1.default.createElement(approval_1.default, { uniswapDappSharedLogic: uniswapDappSharedLogic, tradeContext: tradeContext, miningTransaction: miningTransaction, miningTransactionStatus: miningTransactionStatus }))),\r\n                        react_1.default.createElement(\"div\", { className: \"uni-ic__swap-button-container\" },\r\n                            react_1.default.createElement(\"button\", { className: \"uni-ic__swap-button uni-ic__theme-background-button\", onClick: function () { return uniswapDappSharedLogic.showConfirmSwap(); }, disabled: utils.isZero(outputValue) ||\r\n                                    ((_b = uniswapDappSharedLogic.tradeContext) === null || _b === void 0 ? void 0 : _b.hasEnoughAllowance) === false ||\r\n                                    ((_d = (_c = uniswapDappSharedLogic.tradeContext) === null || _c === void 0 ? void 0 : _c.fromBalance) === null || _d === void 0 ? void 0 : _d.hasEnough) === false ||\r\n                                    noLiquidityFound },\r\n                                react_1.default.createElement(\"div\", { className: \"uni-ic__swap-button-text\" },\r\n                                    utils.isZero(outputValue) && !noLiquidityFound && (react_1.default.createElement(\"span\", null, \"Enter an amount\")),\r\n                                    !utils.isZero(outputValue) &&\r\n                                        !noLiquidityFound &&\r\n                                        ((_f = (_e = uniswapDappSharedLogic.tradeContext) === null || _e === void 0 ? void 0 : _e.fromBalance) === null || _f === void 0 ? void 0 : _f.hasEnough) && react_1.default.createElement(\"span\", null, \"Swap\"),\r\n                                    !utils.isZero(outputValue) &&\r\n                                        !noLiquidityFound &&\r\n                                        !((_h = (_g = uniswapDappSharedLogic.tradeContext) === null || _g === void 0 ? void 0 : _g.fromBalance) === null || _h === void 0 ? void 0 : _h.hasEnough) && (react_1.default.createElement(\"span\", null,\r\n                                        \"Insufficient\",\r\n                                        ' ', (_k = (_j = uniswapDappSharedLogic.tradeContext) === null || _j === void 0 ? void 0 : _j.fromToken) === null || _k === void 0 ? void 0 :\r\n                                        _k.symbol,\r\n                                        ' ',\r\n                                        \"balance\")),\r\n                                    noLiquidityFound && (react_1.default.createElement(\"span\", null, \"Insufficient liquidity for this trade\")))))))),\r\n                !supportedNetwork && (react_1.default.createElement(\"div\", { className: \"uni-ic__error\" },\r\n                    react_1.default.createElement(\"p\", null,\r\n                        react_1.default.createElement(\"strong\", null,\r\n                            \"Chain id \",\r\n                            chainId,\r\n                            \" is a unsupported network.\"))))),\r\n            react_1.default.createElement(tokensModal_1.default, { uniswapDappSharedLogic: uniswapDappSharedLogic, switchSwapCompleted: function (swapCompleted) {\r\n                    setInputValue(swapCompleted.inputValue);\r\n                    setOutputValue(swapCompleted.outputValue);\r\n                }, changeTokenCompleted: function (noLiquidityFound) {\r\n                    handleNoLiquidityFound(noLiquidityFound, tradeContext === null || tradeContext === void 0 ? void 0 : tradeContext.quoteDirection);\r\n                }, selectorOpenFrom: selectorOpenFrom, inputToken: inputToken, outputToken: outputToken }),\r\n            react_1.default.createElement(confirmSwap_1.default, { uniswapDappSharedLogic: uniswapDappSharedLogic, tradeContext: tradeContext, newPriceTradeContext: newPriceTradeContext, inputFiatPrice: inputFiatPrice, outputFiatPrice: outputFiatPrice }),\r\n            react_1.default.createElement(transactionModal_1.default, { uniswapDappSharedLogic: uniswapDappSharedLogic, miningTransactionStatus: miningTransactionStatus })))));\r\n};\r\nexports.default = UniswapReact;\r\n"]},"metadata":{},"sourceType":"script"}