{"ast":null,"code":"import _regeneratorRuntime from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/danildovgal/Desktop/protocol_zero/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/danildovgal/Desktop/protocol_zero/src/components/app_container.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { LocalStorage } from '../services/local_storage';\nimport { initializeAppNoMetamaskOrLocked, initWallet, initWeb3 as _initWeb } from '../store/actions';\nimport { getWeb3State } from '../store/blockchain/selectors';\nimport { ToolbarContentContainer } from './common/toolbar_content';\nimport { GeneralLayout } from './general_layout';\n\nvar toolbar = /*#__PURE__*/_jsxDEV(ToolbarContentContainer, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 17\n}, this);\n\nvar localStorage = null;\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              window.addEventListener(\"load\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        if (!localStorage) localStorage = new LocalStorage(window.localStorage);\n                        _context.next = 3;\n                        return _this.props.initWeb3();\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"render\", function () {\n      return /*#__PURE__*/_jsxDEV(GeneralLayout, {\n        toolbar: toolbar,\n        children: _this.props.children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, _assertThisInitialized(_this));\n    });\n\n    return _this;\n  }\n\n  return App;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    web3State: getWeb3State(state)\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onInitMetamaskState: function onInitMetamaskState() {\n      return dispatch(initializeAppNoMetamaskOrLocked());\n    },\n    onConnectWallet: function onConnectWallet() {\n      return dispatch(initWallet());\n    },\n    initWeb3: function initWeb3() {\n      return dispatch(_initWeb());\n    }\n  };\n};\n\nvar AppContainer = connect(mapStateToProps, mapDispatchToProps)(App);\nexport { App, AppContainer };","map":{"version":3,"sources":["/Users/danildovgal/Desktop/protocol_zero/src/components/app_container.tsx"],"names":["React","connect","LocalStorage","initializeAppNoMetamaskOrLocked","initWallet","initWeb3","getWeb3State","ToolbarContentContainer","GeneralLayout","toolbar","localStorage","App","window","addEventListener","props","children","Component","mapStateToProps","state","web3State","mapDispatchToProps","dispatch","onInitMetamaskState","onConnectWallet","AppContainer"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,YAAT,QAA6B,2BAA7B;AACA,SAASC,+BAAT,EAA0CC,UAA1C,EAAsDC,QAAQ,IAARA,QAAtD,QAAsE,kBAAtE;AAGA,SAASC,YAAT,QAA6B,+BAA7B;AAEA,SAASC,uBAAT,QAAwC,0BAAxC;AACA,SAASC,aAAT,QAA8B,kBAA9B;;AACA,IAAMC,OAAO,gBAAG,QAAC,uBAAD;AAAA;AAAA;AAAA;AAAA,QAAhB;;AAkBA,IAAIC,YAAY,GAAG,IAAnB;;IAEMC,G;;;;;;;;;;;;;;;;8IAEyB;AAAA;AAAA;AAAA;AAAA;AAEvBC,cAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,wEAAgC;AAAA;AAAA;AAAA;AAAA;AAC5B,4BAAG,CAACH,YAAJ,EAAkBA,YAAY,GAAG,IAAIR,YAAJ,CAAiBU,MAAM,CAACF,YAAxB,CAAf;AADU;AAAA,+BAEtB,MAAKI,KAAL,CAAWT,QAAX,EAFsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAhC;;AAFuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;6DAaX,YAAM;AAClB,0BACI,QAAC,aAAD;AAAe,QAAA,OAAO,EAAEI,OAAxB;AAAA,kBACK,MAAKK,KAAL,CAAWC;AADhB;AAAA;AAAA;AAAA;AAAA,uCADJ;AAKH,K;;;;;;EArBaf,KAAK,CAACgB,S;;AA0BxB,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAmC;AACvD,SAAO;AACHC,IAAAA,SAAS,EAAEb,YAAY,CAACY,KAAD;AADpB,GAAP;AAGH,CAJD;;AAMA,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAkC;AACzD,SAAO;AACHC,IAAAA,mBAAmB,EAAE;AAAA,aAAMD,QAAQ,CAAClB,+BAA+B,EAAhC,CAAd;AAAA,KADlB;AAEHoB,IAAAA,eAAe,EAAE;AAAA,aAAMF,QAAQ,CAACjB,UAAU,EAAX,CAAd;AAAA,KAFd;AAGHC,IAAAA,QAAQ,EAAE;AAAA,aAAMgB,QAAQ,CAAChB,QAAQ,EAAT,CAAd;AAAA;AAHP,GAAP;AAMH,CAPD;;AASA,IAAMmB,YAAY,GAAGvB,OAAO,CACxBgB,eADwB,EAExBG,kBAFwB,CAAP,CAGnBT,GAHmB,CAArB;AAKA,SAASA,GAAT,EAAca,YAAd","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { LocalStorage } from '../services/local_storage';\nimport { initializeAppNoMetamaskOrLocked, initWallet, initWeb3 } from '../store/actions';\nimport { Web3State } from '../types/blockchain';\nimport { StoreState } from '../types/store';\nimport { getWeb3State } from '../store/blockchain/selectors'\n\nimport { ToolbarContentContainer } from './common/toolbar_content';\nimport { GeneralLayout } from './general_layout';\nconst toolbar = <ToolbarContentContainer />;\n\ninterface OwnProps {\n    children: React.ReactNode;\n}\n\ninterface StateProps {\n    web3State: Web3State;\n}\n\ninterface DispatchProps {\n    onConnectWallet: () => any;\n    onInitMetamaskState: () => any; //\n    initWeb3: () => any;\n}\n\ntype Props = OwnProps & DispatchProps & StateProps;\n\nlet localStorage = null;\n\nclass App extends React.Component<Props> {\n\n    public componentDidMount = async () => {\n\n        window.addEventListener(\"load\", async ()=> {\n            if(!localStorage) localStorage = new LocalStorage(window.localStorage)\n            await this.props.initWeb3()\n            \n            //this.props.onConnectWallet();\n        })\n        \n    };\n\n\n\n    public render = () => {\n        return(\n            <GeneralLayout toolbar={toolbar}>\n                {this.props.children}\n            </GeneralLayout>\n        )\n    };\n\n   \n}\n\nconst mapStateToProps = (state: StoreState): StateProps => {\n    return {\n        web3State: getWeb3State(state),\n    };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => {\n    return {\n        onInitMetamaskState: () => dispatch(initializeAppNoMetamaskOrLocked()),\n        onConnectWallet: () => dispatch(initWallet()),\n        initWeb3: () => dispatch(initWeb3()),\n      \n    };\n};\n\nconst AppContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(App) as any;\n\nexport { App, AppContainer };\n"]},"metadata":{},"sourceType":"module"}